<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!--
    1. vuejsæ¨¡æ¿ç¼–è¯‘å™¨å…ˆè¿›è¡Œè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æï¼Œå¾—åˆ°æ¨¡æ¿ ASTã€‚
    2. æ¥ç€ï¼Œå°†æ¨¡æ¿ AST è½¬æ¢ï¼ˆtransformï¼‰æˆ JavaScript ASTã€‚
    3. æœ€åï¼Œæ ¹æ® JavaScript AST ç”Ÿæˆ JavaScript ä»£ç ï¼Œå³æ¸²æŸ“å‡½æ•°ä»£ç 
    æ¨¡æ¿ast -> transform(ast) -> javascript AST -> generate(JSAST) -> æ¸²æŸ“å‡½æ•°
  -->
  <!-- <script src="1.js"></script> -->

  <!-- 
    token list çš„å®ç°
    æ ‡è®°åŒ–ï¼ˆtokenizedï¼‰æœ‰é™è‡ªåŠ¨æœºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å®ç°
    åŠ¨æ€æ”¹å˜currentStateå€¼ï¼Œé€šè¿‡å­—ç¬¦ä¸²é€ä¸ªéå†ä»¥< > / ä¸ºæ ‡ç­¾ç¬¦å·ï¼Œä»¥a-zA-Zä¸ºæ ‡ç­¾åç§°å’Œæ–‡æœ¬è¿›è¡Œç¼“å­˜æˆªå–
    æµç¨‹å›¾å‚è€ƒ 15-8 è§£æå™¨çš„çŠ¶æ€æœºå›¾
  -->
  <!-- <script>
    const tokens = tokenize(`<p>Vue</p>`)
    console.log(tokens)
    /* [
      {
        "type": "tag",
        "name": "p"
      },
      {
        "type": "text",
        "content": "Vue"
      },
      {
        "type": "tagEnd",
        "name": "p"
      }
    ] */

    const tokens2 = tokenize(`<div><p>Vue</p><p>Template</p></div>`)
    console.log(tokens2)
    /* [
      { type: 'tag', name: 'div' },           // div å¼€å§‹æ ‡ç­¾èŠ‚ç‚¹
      { type: 'tag', name: 'p' },             // p å¼€å§‹æ ‡ç­¾èŠ‚ç‚¹
      { type: 'text', content: 'Vue' },       // æ–‡æœ¬èŠ‚ç‚¹
      { type: 'tagEnd', name: 'p' },          // p ç»“æŸæ ‡ç­¾èŠ‚ç‚¹
      { type: 'tag', name: 'p' },             // p å¼€å§‹æ ‡ç­¾èŠ‚ç‚¹
      { type: 'text', content: 'Template' },  // æ–‡æœ¬èŠ‚ç‚¹
      { type: 'tagEnd', name: 'p' },          // p ç»“æŸæ ‡ç­¾èŠ‚ç‚¹
      { type: 'tagEnd', name: 'div' }         // div ç»“æŸæ ‡ç­¾èŠ‚ç‚¹
    ] */
  </script> -->
  
  <!-- æ‰«æ Token åˆ—è¡¨å¹¶æ„å»º AST çš„å®ç° -->
  <!-- <script>
    // æ¨¡æ¿ast
    const ast = parse(`<div><p>Vue</p><p>Template</p></div>`)
    // console.log('ğŸš€: ~ ast:', ast)
    /* {
      type: 'root',
      children: [
        {
          type: 'Element',
          tag: 'div',
          children: [
            {
              type: 'Element',
              tag: 'p',
              children: [
                {
                  type: 'Text',
                  content: 'Vue'
                }
                // ,...
              ]
            }
            // ,...
          ]
        }
      ]
    } */
    
    // é€’å½’åœ°æ‰“å° AST ä¸­èŠ‚ç‚¹çš„ä¿¡æ¯
    dump(ast)

    console.log('--------------------------------')
    
    // é€šè¿‡ä¸Šä¸‹æ–‡æ–¹æ³•è½¬æ¢åçš„ AST
    transform(ast)
  </script> -->
  
  <!-- 
    æ›´åŠ ç†æƒ³çš„è½¬æ¢å·¥ä½œæµï¼Œå¯åœ¨å­èŠ‚ç‚¹é€€å‡ºé˜¶æ®µå¯¹çˆ¶èŠ‚ç‚¹è¿›è¡Œå¤„ç†
    æŠŠå­èŠ‚ç‚¹çš„è½¬æ¢æ–¹æ³•å…ˆæš‚å­˜èµ·æ¥ï¼Œç­‰å½“å‰å…„å¼ŸèŠ‚ç‚¹å¤„ç†å®Œæˆä¹‹åé€†åºæ‰§è¡Œ exitFns
  -->
  <script src="2.js"></script>

  <!-- é€šè¿‡ transform(ast) è½¬ä¸º å¯ä»¥æè¿°æ¸²æŸ“å‡½æ•°çš„ javascript AST -->
  <!-- ast.jsNode ç”Ÿæˆæ¸²æŸ“å‡½æ•° -->
  <script>
    const code = compile(`<div><p>Vue</p><p>Template</p></div>`)
    console.log(code)
  </script>
</body>

</html>